\titleSlide

\frame{%
    \frametitle{\$::user}
    \framesubtitle{Julien Pivotto}
    \begin{itemize}
        \item{Open-Source consultant at {\inuits{}inuits\small.eu}}
        \item{Puppet User since 2011}
        \item{Speaker/attendee at Puppetcamps}
        \item{Member of the Belgian PUG}
        \item{Puppet core contributor}
        \item{Puppet(labs) modules contributor}
        \olditem{\textit{\ctr{@roidelapluie}} \ctr{on irc/twitter/github}}
    \end{itemize}

}
\inuitsSlide
\picSlideBottom{clabs.png}{%
\begin{center}\LARGE\ctr{http://clusterlabs.org}\end{center}
}
\frame[plain]{%
\centerline{\includegraphics[height=0.9\paperheight]{files/1.png}}\color{grey}http://clusterlabs.org/wiki (GFDL 1.2 licence)
}
\frame[plain]{%
\centerline{\includegraphics[height=0.9\paperheight]{files/2.png}}\color{grey}http://clusterlabs.org/wiki (GFDL 1.2 licence)
}
\frame[plain]{%
\centerline{\includegraphics[height=0.9\paperheight]{files/3.png}}\color{grey}http://clusterlabs.org/wiki (GFDL 1.2 licence)
}
\frame[plain]{%
\centerline{\includegraphics[height=0.9\paperheight]{files/4.png}}\color{grey}http://clusterlabs.org/wiki (GFDL 1.2 licence)
}
\frame{%
    \frametitle{Pacemaker}
    \begin{itemize}
            \item{It is the brain}
        \item{Decides what to do, when}
        \item{Gets information from ressources}
        \item{Depends on messaging \& cluster manager}
        \item{Does not require shared storage}
    \end{itemize}
}
\frame{%
    \frametitle{Decisions}
    \begin{itemize}
        \item{A node fails, now what}
        \item{A service fails, now what}
        \item{Restart? Move?}
        \item{Needs to be quick and without intervention}
        \item{Scores, policies}
    \end{itemize}
}
\frame{%
    \frametitle{CIB}
    \begin{itemize}
        \item{Cluster Information Base}
        \item{XML shared accross the cluster}
        \item{Updated using "pcs"}
        \item{Contains knowledge about the cluster}
    \end{itemize}
}

\begin{frame}[fragile]
    \frametitle{Primitives}
    \begin{itemize}
        \item{Service, Ip address, mountpoint,\dots}
        \item{Base bricks of a cluster}
        \item{Get a lot of parameters}
    \end{itemize}
    \begin{verbatim}
primitive ClusterIP ocf:heartbeat:IPaddr2
    params ip="192.168.122.101" cidr_netmask="32"
    op monitor interval="30s"
\end{verbatim}
\end{frame}
\frame{%
    \frametitle{CMAN}
    \begin{itemize}
            \item{Manages membership and quorum}
            \item{Notifies pacemaker when something changes}
        \item{Starts and manages corosync}
        \item{Needs a cluster.conf that contains all the nodes}
        \item{Managed via ccs}
        \item{Will propagate the changes}
    \end{itemize}
}
\frame{%
    \frametitle{Corosync}
    \begin{itemize}
            \item{Messaging layer}
            \item{Controlled via CMAN}
        \item{EL7 version takes over CMAN}
    \end{itemize}
}
\picSlideBottom{pl-forge.png}{}
\picSlideBottom{pl-cs.png}{}
\frame{%

    \frametitle{History}
    \begin{itemize}
        \item{Worked with the "crm" command}
        \item{Which was removed from EL 6.4}
        \item{People got it as external RPM's from suse dev}
        \item{RH pushing to use pcs instead}
        \item{jhoblitt started to integrated pcs in the module}
        \item{I ended that work}
        \item{Still a lot to do}
    \end{itemize}

}
\frame{%

    \frametitle{Besides}
    \begin{itemize}
        \item{kbon/puppet-cman}
        \item{kbon/puppet-pacemaker}
    \end{itemize}

}
\frame{%

    \frametitle{Challenges}
    \begin{itemize}
        \item{New way to work with EL7}
        \item{New version of corosync}
        \item{Keeping suse compat}
        \item{Keeping el5/6 compat?}
        \item{Rename the module?}
        \item{Close oldest PR}
    \end{itemize}

}
\frame{%

    \frametitle{And after}
    \begin{itemize}
        \item{Beaker?}
        \item{New version of corosync}
        \item{Keeping suse compat}
        \item{Keeping el5/6 compat?}
        \item{Rename the module?}
        \item{Close oldest PR}
    \end{itemize}

}

\thankyouSlide
\contactSlide
